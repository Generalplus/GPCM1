/**************************************************************************************************
 * Copyright(c) 2019 GENERALPLUS Technology Corporation. All rights reserved.
 *-------------------------------------------------------------------------------------------------
 * @File:
 *   main.c
 * @Version:
 *
 * @Date:
 *
 * @Abstract:
 *
 **************************************************************************************************/


/*---------------------------------------------------------------------------------------
 * Header File Included Area
 *---------------------------------------------------------------------------------------*/
#include "GPCM1Fx.h"
#include "glibc_wrapper.h"


/*---------------------------------------------------------------------------------------
 * Gobal Variable Declaration Area
 *---------------------------------------------------------------------------------------*/
uint32_t WrTestData[8] = {0x04030201, 0x08070605, 0x0C0B0A09, 0x100F0E0D, 0x14131211, 0x18171615, 0x1C1B1A19, 0x201F1E1D};
uint32_t* eFlashAddr = (uint32_t*)0x0000F800;
uint32_t iCount;
uint32_t volatile RdTestData[8];


/*---------------------------------------------------------------------------------------
 * Main Function
 *---------------------------------------------------------------------------------------*/
int main(void)
{
  SystemInit();

	EFlash_PageErase(eFlashAddr);
	EFlash_WritePage(WrTestData, eFlashAddr, 8);
	for(iCount = 0; iCount < 8; iCount++)
	{
		RdTestData[iCount] = eFlashAddr[iCount];
	}

  while(1)
	{
		WDT_Clear();
	}
}
